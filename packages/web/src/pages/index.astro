---
import Layout from '../layouts/Layout.astro';
import Hero from '../components/base/Hero.astro';
import LazyLoad from '../components/base/LazyLoad.astro';
import OcsightFeatures from '../components/OcsightFeatures.astro';
import OcsightInstall from '../components/OcsightInstall.astro';
import CLISimulator from '../components/CLISimulator.astro';

const title = 'ocsight - OpenCode Observability';
const description = 'Observability for OpenCode agents with brutalist clarity, fast install, and interactive demos.';
---

<Layout {title} {description}>
  <Hero title="ocsight - OpenCode Observability" description="Observability for OpenCode agents with brutalist clarity, fast install, and interactive demos." />

  <main class="flex flex-col gap-28 pb-24">
    <LazyLoad>
      <section id="features" class="border-t border-border bg-background py-24">
        <div class="flex flex-col gap-12">
          <OcsightFeatures />
        </div>
      </section>
    </LazyLoad>

    <LazyLoad>
      <section class="border-t border-border bg-background py-24">
        <div class="container grid gap-12 lg:grid-cols-[minmax(0,1fr)_400px]">
          <div class="flex flex-col gap-6">
            <span class="inline-flex w-fit items-center gap-2 border border-border bg-muted px-3 py-1 font-mono text-xs uppercase tracking-widest text-muted-foreground">
              Run it before installation
            </span>
            <h2 class="text-3xl font-semibold text-foreground sm:text-4xl">
              Try the CLI simulator and explore real responses
            </h2>
            <p class="text-muted-foreground">
              Use the interactive terminal to inspect commands, flags, and outputs generated directly from the ocsight CLI. Perfect for validating the workflow before rolling it into production.
            </p>
            <div class="rounded-sm border border-border bg-background p-6 shadow-brutal">
              <CLISimulator />
            </div>
          </div>

          <div class="space-y-6">
            <article class="rounded-sm border border-border bg-background p-6 shadow-brutal">
              <h3 class="font-mono text-sm uppercase tracking-widest text-muted-foreground">Workflow snapshots</h3>
              <p class="mt-3 text-sm text-muted-foreground">
                Every simulator run mirrors the exact telemetry you will see once ocsight is installed. The API, MCP server, and dashboards share the same data plane.
              </p>
              <ul class="mt-4 space-y-3 text-sm text-muted-foreground">
                <li>• Analyze token, cost, and provider drift over any time window.</li>
                <li>• Inspect tool execution timelines with millisecond precision.</li>
                <li>• Export reports without leaving your terminal.</li>
              </ul>
            </article>

            <article class="rounded-sm border border-border bg-background p-6 shadow-brutal">
              <h3 class="font-mono text-sm uppercase tracking-widest text-muted-foreground">Agent ready defaults</h3>
              <p class="mt-3 text-sm text-muted-foreground">
                Zero-config output formatting, brutalist UI defaults, and deterministic color tokens align with the rest of the site design for a cohesive operator experience.
              </p>
            </article>
          </div>
        </div>
      </section>
    </LazyLoad>

    <LazyLoad>
      <OcsightInstall />
    </LazyLoad>
  </main>
</Layout>
